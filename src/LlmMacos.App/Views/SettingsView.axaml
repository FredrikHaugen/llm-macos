<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="LlmMacos.App.Views.SettingsView">
  <Border Classes="card" Margin="6">
    <Grid RowDefinitions="Auto,*,Auto,Auto">
      <TextBlock Classes="headline" Text="Settings" />

      <Grid Grid.Row="1" ColumnDefinitions="*,*" Margin="0,12,0,0">
        <StackPanel Spacing="10">
          <TextBlock FontWeight="SemiBold" Text="Hugging Face Token" />
          <TextBox Watermark="Optional token for private/gated models"
                   Text="{Binding HfToken}" />

          <TextBlock FontWeight="SemiBold" Margin="0,8,0,0" Text="Default System Prompt" />
          <TextBox AcceptsReturn="True"
                   TextWrapping="Wrap"
                   MinHeight="140"
                   Text="{Binding DefaultSystemPrompt}" />
        </StackPanel>

        <StackPanel Grid.Column="1" Spacing="8" Margin="16,0,0,0">
          <TextBlock FontWeight="SemiBold" Text="Runtime Defaults" />

          <TextBlock Classes="subtle" Text="Context Size" />
          <NumericUpDown Minimum="512" Maximum="32768" Increment="512" Value="{Binding ContextSize}" />

          <TextBlock Classes="subtle" Text="GPU Layers" />
          <NumericUpDown Minimum="0" Maximum="200" Increment="1" Value="{Binding GpuLayerCount}" />

          <TextBlock Classes="subtle" Text="Temperature" />
          <NumericUpDown Minimum="0" Maximum="2" Increment="0.05" Value="{Binding Temperature}" />

          <TextBlock Classes="subtle" Text="Top P" />
          <NumericUpDown Minimum="0" Maximum="1" Increment="0.05" Value="{Binding TopP}" />

          <TextBlock Classes="subtle" Text="Max Tokens" />
          <NumericUpDown Minimum="16" Maximum="4096" Increment="16" Value="{Binding MaxTokens}" />

          <CheckBox IsChecked="{Binding UseMetal}" Content="Use Metal Acceleration" />
        </StackPanel>
      </Grid>

      <WrapPanel Grid.Row="2" Margin="0,12,0,0" ItemHeight="36">
        <Button Classes="primary" Content="Save" Command="{Binding SaveCommand}" />
        <Button Classes="subtle" Content="Clear Token" Command="{Binding ClearTokenCommand}" Margin="10,0,0,0" />
      </WrapPanel>

      <TextBlock Grid.Row="3" VerticalAlignment="Center" Classes="subtle" Text="{Binding StatusMessage}" Margin="0,8,0,0" />
    </Grid>
  </Border>
</UserControl>
